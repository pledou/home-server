# Fail2Ban configuration
# Generated by Ansible - DO NOT EDIT MANUALLY
# Managed by: playbooks/roles/security

[DEFAULT]
# Ban hosts for 1 hour:
bantime = {{ fail2ban_bantime }}

# A host is banned if it has generated "maxretry" during the last "findtime"
findtime = {{ fail2ban_findtime }}
maxretry = {{ fail2ban_maxretry }}

# Destination email address
destemail = {{ fail2ban_destemail }}
sender = {{ fail2ban_sender }}

# Action to take (see /etc/fail2ban/action.d/)
# action_mw = ban and send email with whois report
# action_mwl = ban and send email with whois report and log lines
action = %({{ fail2ban_action }})s

# Backend to use for watching log files
backend = systemd

[sshd]
enabled = true
port = {{ ssh_port }}
filter = sshd
logpath = %(sshd_log)s
maxretry = {{ fail2ban_maxretry }}
bantime = {{ fail2ban_bantime }}

[sshd-ddos]
enabled = true
port = {{ ssh_port }}
filter = sshd-ddos
logpath = %(sshd_log)s
maxretry = 10
bantime = {{ fail2ban_bantime }}
